I"Ÿ<h1 id="applicationcontext-extends-environmentcapable">ApplicationContext extends EnvironmentCapable</h1>
<ul>
  <li>getEnvironment()</li>
</ul>

<h2 id="í”„ë¡œíŒŒì¼">í”„ë¡œíŒŒì¼</h2>
<ul>
  <li>ë¹ˆë“¤ì˜ ê·¸ë£¹</li>
  <li>ex) ê°œë°œí• ë•ŒëŠ” A ë¹ˆë“¤ì„ ì£¼ì… ë°›ì•„ì„œ ì‚¬ìš©í•˜ê³ , ìš´ì˜ì—ì„œëŠ” B ë¹ˆë“¤ì„ ì‚¬ìš©í•œë‹¤ê³  í• ë•Œ Aê·¸ë£¹ê³¼ Bê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë†“ì„ ìˆ˜ ìˆë‹¤.</li>
</ul>

<figure class="highlight"><pre><code class="language-java" data-lang="java">    <span class="nd">@Autowired</span>
    <span class="nc">ApplicationContext</span> <span class="n">ctx</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="nc">ApplicationArguments</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">Environment</span> <span class="n">environment</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getEnvironment</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">Arrays</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">environment</span><span class="o">.</span><span class="na">getActiveProfiles</span><span class="o">()));</span>
    <span class="o">}</span></code></pre></figure>

<ul>
  <li>ë”°ë¡œ ë¹ˆì— ì–´ë–¤ í”„ë¡œíŒŒì¼ì´ë¼ê³  ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ default í”„ë¡œíŒŒì¼ ì´ë‹¤.</li>
</ul>

<h3 id="í”„ë¡œíŒŒì¼-ì„¤ì •í•˜ê¸°">í”„ë¡œíŒŒì¼ ì„¤ì •í•˜ê¸°</h3>
<ul>
  <li>í´ë˜ìŠ¤
    <ul>
      <li>@Configuration @Profile(â€œtestâ€)</li>
      <li>@Component @Profile(â€œtestâ€)</li>
    </ul>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Configuration</span>
<span class="nd">@Profile</span><span class="o">(</span><span class="s">"test"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestConfiguration</span> <span class="o">{</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">BookRepository</span> <span class="nf">bookRepository</span><span class="o">(){</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">TestBookRepository</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="nd">@Autowired</span>
<span class="nc">BookRepository</span> <span class="n">bookRepository</span><span class="o">;</span></code></pre></figure>

<ul>
  <li>
    <p>bookRepository ì£¼ì… ë°›ì„ ìˆ˜ ì—†ìŒ,, (í”„ë¡œíŒŒì¼ì´ testì´ê¸° ë•Œë¬¸ì—)</p>
  </li>
  <li>
    <p>ë©”ì†Œë“œì— ì •ì˜</p>
    <ul>
      <li>@Bean @Profile(â€œtestâ€)</li>
    </ul>
  </li>
</ul>

<h3 id="í”„ë¡œíŒŒì¼-ì„¤ì •">í”„ë¡œíŒŒì¼ ì„¤ì •</h3>
<ul>
  <li>-Dspring.profiles.active=â€test,A,B,â€¦â€</li>
</ul>

<h3 id="í‘œí˜„ì‹-ë“±ë¡">í‘œí˜„ì‹ ë“±ë¡</h3>
<ul>
  <li>@Profile(â€œ!prodâ€) : prodê°€ ì•„ë‹Œê²½ìš°</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>! &amp;</td>
          <td>ì œê³µ</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<h2 id="í”„ë¡œí¼í‹°">í”„ë¡œí¼í‹°</h2>
<ul>
  <li>ì„¤ì •ê°’ë“¤</li>
  <li>Environmentì˜ ì—­í• ì€ í”„ë¡œí¼í‹° ì†ŒìŠ¤ ì„¤ì • ë° í”„ë¡œí¼í‹° ê°’ ê°€ì ¸ì˜¤ê¸°</li>
  <li>í”„ë¡œí¼í‹° ê°€ì ¸ì˜¤ëŠ” ìš°ì„ ìˆœìœ„ê°€ ìˆìŒ..</li>
</ul>

<h3 id="vm-option">vm option</h3>
<ul>
  <li>-Dapp.name=spring5</li>
</ul>

<h3 id="ì‚¬ìš©ë°©ë²•">ì‚¬ìš©ë°©ë²•</h3>
<ul>
  <li>environment.getProperty(â€œapp.nameâ€);</li>
</ul>

<h3 id="propertysource">@PropertySource</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@SpringBootApplication
@PropertySource("classpath:/app.properties")
</code></pre></div></div>

<h3 id="ìŠ¤í”„ë§-ë¶€íŠ¸ì˜-ì™¸ë¶€-ì„¤ì •">ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ì™¸ë¶€ ì„¤ì •</h3>
<ul>
  <li>ê¸°ë³¸ í”„ë¡œí¼í‹° ì†ŒìŠ¤ application.propertiesâ€</li>
</ul>
:ET