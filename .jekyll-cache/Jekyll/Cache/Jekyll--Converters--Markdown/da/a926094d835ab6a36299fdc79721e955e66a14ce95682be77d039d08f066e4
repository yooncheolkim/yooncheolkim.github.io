I"<h1 id="생성자-대신-정적-팩터리-메서드를-고려하라">생성자 대신 정적 팩터리 메서드를 고려하라</h1>
<ul>
  <li>개발자는 public 클래스 말고도 static factory method를 제공할 수 있다.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">Boolean</span> <span class="nf">valueOf</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">b</span><span class="o">){</span>
    <span class="k">return</span> <span class="n">b</span><span class="o">?</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">TRUE</span> <span class="o">:</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="장점">장점</h3>

<ol>
  <li>이름을 가질 수 있다.
    <ul>
      <li>public 생성자는 이름이 없다.</li>
      <li>BigInteger(int,int,Random) 과 BigInteger.probablePrime 중 어느게 더 선명한가</li>
    </ul>
  </li>
  <li>호출될때마다 인스턴스를 새로 생성하지는 않아도 된다.
    <ul>
      <li>Boolean.valueOf(boolean) 은 대표적으로 인스턴스를 아예 생성하지 않는다.</li>
      <li>반복되는 요청에 같은 객체를 반환하는 식으로 정적 팩터리 방식의 클래스는 언제 어느 인스턴스를 살아 있게 할지를 철저히 통제할 수 있다.</li>
      <li>이를 인스턴스 통제 클래스라 한다. , 싱글턴, 혹은 인스턴스화 불가</li>
    </ul>
  </li>
  <li>반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.
    <ul>
      <li>반환할 객체의 클래스를 자유롭게 선택할 수 있다.(엄청난 유연성)</li>
      <li>Collections의 정적 팩터리 메서드를 통해 구현체를 얻을 수 있다.(ex. Collections.emptyList, Collections.singletonList ..)</li>
    </ul>
  </li>
  <li>
    <p>입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다.</p>
  </li>
  <li>정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.
    <ul>
      <li>jdbc 의 경우</li>
      <li>Connection 인터페이스가 서비스 인터페이스 역할</li>
      <li>DriverManager.registerDriver가 제공자 등록 API 역할</li>
      <li>DriverManager.getConnction이 서비스 접근 API 역할</li>
      <li>DriverManager.getConnction이 유연한 정적팩터리 의 실체이다.</li>
    </ul>
  </li>
</ol>

<h3 id="단점">단점</h3>
<ol>
  <li>
    <p>상속을 하려면 public이나 proteced 생성자가 필요하니, 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.</p>
  </li>
  <li>
    <p>정적 팩터리 메서드는 프로그래머가 찾기 어렵다.</p>
  </li>
</ol>

:ET